/*
 * Decompiled with CFR 0.152.
 */
package drunkclient.beta.IMPL.Module.impl.exploit;

import drunkclient.beta.API.EventHandler;
import drunkclient.beta.API.events.world.EventPacketReceive;
import drunkclient.beta.IMPL.Module.Module;
import drunkclient.beta.IMPL.Module.Type;
import drunkclient.beta.IMPL.set.Option;
import drunkclient.beta.UTILS.helper.Helper;
import drunkclient.beta.UTILS.world.PacketUtil;
import net.minecraft.network.play.client.C01PacketChatMessage;
import net.minecraft.network.play.server.S02PacketChat;
import net.minecraft.network.play.server.S45PacketTitle;

public class AutoHypixel
extends Module {
    public Option<Boolean> autogg = new Option<Boolean>("Auto GG", "Auto GG", true);
    public Option<Boolean> autoPlay = new Option<Boolean>("Auto Play", "Auto Play", false);
    String message = "GG";

    public AutoHypixel() {
        super("Auto Hypixel", new String[0], Type.EXPLOIT, "No");
        this.addValues(this.autogg, this.autoPlay);
    }

    @EventHandler
    public void IncomingPacket(EventPacketReceive e) {
        if (((Boolean)this.autogg.getValue()).booleanValue()) {
            this.autogg(e);
        }
        if ((Boolean)this.autoPlay.getValue() == false) return;
        this.autoPlay(e);
    }

    private void autoPlay(EventPacketReceive e) {
        if (!(e.getPacket() instanceof S02PacketChat)) return;
        S02PacketChat chat = (S02PacketChat)e.getPacket();
        String runcommand = chat.getChatComponent().toString().split("action=RUN_COMMAND, value='")[1];
        if (!runcommand.startsWith("/play ")) return;
        Helper.sendMessage("Test");
    }

    private void autogg(EventPacketReceive e) {
        if (!(e.getPacket() instanceof S45PacketTitle)) return;
        S45PacketTitle packet = (S45PacketTitle)e.getPacket();
        if (!packet.getMessage().getUnformattedText().equals("\u00a76\u00a7lVICTORY!")) return;
        if (!this.message.startsWith("/")) return;
        PacketUtil.sendPacketNoEvent(new C01PacketChatMessage(this.message));
    }
}

